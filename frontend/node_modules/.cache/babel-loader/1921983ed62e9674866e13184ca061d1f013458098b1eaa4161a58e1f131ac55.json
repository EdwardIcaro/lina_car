{"ast":null,"code":"import React from'react';import{FaUserCircle}from'react-icons/fa';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function timeAgo(dateString){const now=new Date();const date=new Date(dateString);const diffMs=now-date;const diffMin=Math.floor(diffMs/60000);if(diffMin<1)return'agora';if(diffMin<60)return\"h\\xE1 \".concat(diffMin,\"min\");const diffH=Math.floor(diffMin/60);if(diffH<24)return\"h\\xE1 \".concat(diffH,\"h\");const diffD=Math.floor(diffH/24);return\"h\\xE1 \".concat(diffD,\"d\");}const WorkOrderCard=_ref=>{var _order$vehicle;let{order}=_ref;const employee=order.employee;const customer=(_order$vehicle=order.vehicle)===null||_order$vehicle===void 0?void 0:_order$vehicle.customer;return/*#__PURE__*/_jsxs(\"div\",{className:\"workorder-card\",style:{border:'none',borderRadius:12,padding:16,marginBottom:8,background:'#fff',boxShadow:'0 2px 8px #0002',position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:600,fontSize:16,marginBottom:2},children:[\"Placa: \",order.vehicle.plate]}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#1976d2',fontWeight:500,marginBottom:2},children:[\"Cliente: \",customer===null||customer===void 0?void 0:customer.name]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:2},children:[/*#__PURE__*/_jsx(\"b\",{children:\"Servi\\xE7os:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{title:order.services.map(s=>s.service.name).join(', '),children:order.services.map(s=>s.service.name).join(', ')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:2},children:[/*#__PURE__*/_jsx(\"b\",{children:\"Total:\"}),\" R$ \",order.totalPrice.toFixed(2)]}),employee&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:8,marginBottom:2},children:/*#__PURE__*/_jsxs(\"span\",{title:\"Funcion\\xE1rio: \".concat(employee.name,\"\\nGanho: \").concat(employee.percentage,\"%\\nCliente: \").concat(customer===null||customer===void 0?void 0:customer.name,\"\\nTelefone: \").concat(customer===null||customer===void 0?void 0:customer.phone),style:{display:'flex',alignItems:'center',gap:4,cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"span\",{style:{width:28,height:28,borderRadius:'50%',background:'#1976d2',color:'#fff',display:'flex',alignItems:'center',justifyContent:'center',fontWeight:700,fontSize:16},children:employee.name[0]}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:500},children:employee.name}),/*#__PURE__*/_jsxs(\"span\",{style:{color:'#888',fontSize:13},children:[\"(\",employee.percentage,\"%)\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{color:'#888',fontSize:13,marginTop:4},children:[\"Criado \",timeAgo(order.createdAt)]})]});};export default WorkOrderCard;","map":{"version":3,"names":["React","FaUserCircle","jsxs","_jsxs","jsx","_jsx","timeAgo","dateString","now","Date","date","diffMs","diffMin","Math","floor","concat","diffH","diffD","WorkOrderCard","_ref","_order$vehicle","order","employee","customer","vehicle","className","style","border","borderRadius","padding","marginBottom","background","boxShadow","position","children","fontWeight","fontSize","plate","color","name","title","services","map","s","service","join","totalPrice","toFixed","display","alignItems","gap","percentage","phone","cursor","width","height","justifyContent","marginTop","createdAt"],"sources":["C:/Users/Lenovo/lina_car/frontend/src/components/Kanban/WorkOrderCard.js"],"sourcesContent":["import React from 'react';\r\nimport { FaUserCircle } from 'react-icons/fa';\r\n\r\nfunction timeAgo(dateString) {\r\n  const now = new Date();\r\n  const date = new Date(dateString);\r\n  const diffMs = now - date;\r\n  const diffMin = Math.floor(diffMs / 60000);\r\n  if (diffMin < 1) return 'agora';\r\n  if (diffMin < 60) return `há ${diffMin}min`;\r\n  const diffH = Math.floor(diffMin / 60);\r\n  if (diffH < 24) return `há ${diffH}h`;\r\n  const diffD = Math.floor(diffH / 24);\r\n  return `há ${diffD}d`;\r\n}\r\n\r\nconst WorkOrderCard = ({ order }) => {\r\n  const employee = order.employee;\r\n  const customer = order.vehicle?.customer;\r\n  return (\r\n    <div className=\"workorder-card\" style={{ border: 'none', borderRadius: 12, padding: 16, marginBottom: 8, background: '#fff', boxShadow: '0 2px 8px #0002', position: 'relative' }}>\r\n      <div style={{ fontWeight: 600, fontSize: 16, marginBottom: 2 }}>Placa: {order.vehicle.plate}</div>\r\n      <div style={{ color: '#1976d2', fontWeight: 500, marginBottom: 2 }}>Cliente: {customer?.name}</div>\r\n      <div style={{ marginBottom: 2 }}><b>Serviços:</b> <span title={order.services.map(s => s.service.name).join(', ')}>{order.services.map(s => s.service.name).join(', ')}</span></div>\r\n      <div style={{ marginBottom: 2 }}><b>Total:</b> R$ {order.totalPrice.toFixed(2)}</div>\r\n      {employee && (\r\n        <div style={{ display: 'flex', alignItems: 'center', gap: 8, marginBottom: 2 }}>\r\n          <span title={`Funcionário: ${employee.name}\\nGanho: ${employee.percentage}%\\nCliente: ${customer?.name}\\nTelefone: ${customer?.phone}`}\r\n                style={{ display: 'flex', alignItems: 'center', gap: 4, cursor: 'pointer' }}>\r\n            <span style={{\r\n              width: 28, height: 28, borderRadius: '50%', background: '#1976d2', color: '#fff', display: 'flex', alignItems: 'center', justifyContent: 'center', fontWeight: 700, fontSize: 16\r\n            }}>{employee.name[0]}</span>\r\n            <span style={{ fontWeight: 500 }}>{employee.name}</span>\r\n            <span style={{ color: '#888', fontSize: 13 }}>({employee.percentage}%)</span>\r\n          </span>\r\n        </div>\r\n      )}\r\n      <div style={{ color: '#888', fontSize: 13, marginTop: 4 }}>Criado {timeAgo(order.createdAt)}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkOrderCard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}