{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\lina_car\\\\frontend\\\\src\\\\pages\\\\DashboardPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport KanbanBoard from '../components/Kanban/KanbanBoard';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DashboardPage = () => {\n  _s();\n  const [kpis, setKpis] = useState({\n    andamento: 0,\n    faturamento: 0,\n    finalizadas: 0,\n    localiza: 0\n  });\n  useEffect(() => {\n    const fetchKpis = async () => {\n      try {\n        // Ordens em andamento\n        const {\n          data: andamento\n        } = await axios.get('/api/orders/dashboard');\n        // Finalizadas hoje\n        const {\n          data: finalizadas\n        } = await axios.get('/api/orders?finalizadasHoje=1');\n        // Pagamentos do dia\n        const {\n          data: pagamentos\n        } = await axios.get('/api/payments?hoje=1');\n        // Pagamentos Localiza do dia\n        const localizaPagamentos = pagamentos.filter(p => p.method === 'localiza');\n        const faturamento = pagamentos.reduce((sum, p) => sum + p.amount, 0);\n        setKpis({\n          andamento: andamento.length,\n          faturamento,\n          finalizadas: finalizadas.length,\n          localiza: localizaPagamentos.reduce((sum, p) => sum + p.amount, 0)\n        });\n      } catch (e) {\n        // fallback para zero\n        setKpis({\n          andamento: 0,\n          faturamento: 0,\n          finalizadas: 0,\n          localiza: 0\n        });\n      }\n    };\n    fetchKpis();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 1400,\n      margin: '0 auto',\n      padding: 24\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: '#1976d2',\n        marginBottom: 32\n      },\n      children: \"Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 24,\n        marginBottom: 32,\n        flexWrap: 'wrap'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          minWidth: 220,\n          background: '#e3f2fd',\n          borderRadius: 12,\n          padding: 24,\n          textAlign: 'center',\n          boxShadow: '0 2px 8px #0001'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 32,\n            fontWeight: 700\n          },\n          children: kpis.andamento\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#1976d2',\n            fontWeight: 600\n          },\n          children: \"Ordens em andamento\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          minWidth: 220,\n          background: '#e8f5e9',\n          borderRadius: 12,\n          padding: 24,\n          textAlign: 'center',\n          boxShadow: '0 2px 8px #0001'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 32,\n            fontWeight: 700\n          },\n          children: [\"R$ \", kpis.faturamento.toLocaleString('pt-BR', {\n            minimumFractionDigits: 2\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#388e3c',\n            fontWeight: 600\n          },\n          children: \"Faturamento do dia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          minWidth: 220,\n          background: '#fff3e0',\n          borderRadius: 12,\n          padding: 24,\n          textAlign: 'center',\n          boxShadow: '0 2px 8px #0001'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 32,\n            fontWeight: 700\n          },\n          children: kpis.finalizadas\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#f57c00',\n            fontWeight: 600\n          },\n          children: \"Finalizadas hoje\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1,\n          minWidth: 220,\n          background: '#fce4ec',\n          borderRadius: 12,\n          padding: 24,\n          textAlign: 'center',\n          boxShadow: '0 2px 8px #0001'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 32,\n            fontWeight: 700\n          },\n          children: [\"R$ \", kpis.localiza.toLocaleString('pt-BR', {\n            minimumFractionDigits: 2\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#c2185b',\n            fontWeight: 600\n          },\n          children: \"Pagamentos Localiza\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(KanbanBoard, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n_s(DashboardPage, \"re0dtyBTM7DImrv0iu1uHcprEds=\");\n_c = DashboardPage;\nexport default DashboardPage;\nvar _c;\n$RefreshReg$(_c, \"DashboardPage\");","map":{"version":3,"names":["React","useEffect","useState","KanbanBoard","axios","jsxDEV","_jsxDEV","DashboardPage","_s","kpis","setKpis","andamento","faturamento","finalizadas","localiza","fetchKpis","data","get","pagamentos","localizaPagamentos","filter","p","method","reduce","sum","amount","length","e","style","maxWidth","margin","padding","children","color","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","display","gap","flexWrap","flex","minWidth","background","borderRadius","textAlign","boxShadow","fontSize","fontWeight","toLocaleString","minimumFractionDigits","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/lina_car/frontend/src/pages/DashboardPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport KanbanBoard from '../components/Kanban/KanbanBoard';\r\nimport axios from 'axios';\r\n\r\nconst DashboardPage = () => {\r\n    const [kpis, setKpis] = useState({\r\n        andamento: 0,\r\n        faturamento: 0,\r\n        finalizadas: 0,\r\n        localiza: 0\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchKpis = async () => {\r\n            try {\r\n                // Ordens em andamento\r\n                const { data: andamento } = await axios.get('/api/orders/dashboard');\r\n                // Finalizadas hoje\r\n                const { data: finalizadas } = await axios.get('/api/orders?finalizadasHoje=1');\r\n                // Pagamentos do dia\r\n                const { data: pagamentos } = await axios.get('/api/payments?hoje=1');\r\n                // Pagamentos Localiza do dia\r\n                const localizaPagamentos = pagamentos.filter(p => p.method === 'localiza');\r\n                const faturamento = pagamentos.reduce((sum, p) => sum + p.amount, 0);\r\n                setKpis({\r\n                    andamento: andamento.length,\r\n                    faturamento,\r\n                    finalizadas: finalizadas.length,\r\n                    localiza: localizaPagamentos.reduce((sum, p) => sum + p.amount, 0)\r\n                });\r\n            } catch (e) {\r\n                // fallback para zero\r\n                setKpis({ andamento: 0, faturamento: 0, finalizadas: 0, localiza: 0 });\r\n            }\r\n        };\r\n        fetchKpis();\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{ maxWidth: 1400, margin: '0 auto', padding: 24 }}>\r\n            <h1 style={{ color: '#1976d2', marginBottom: 32 }}>Dashboard</h1>\r\n            {/* KPIs principais */}\r\n            <div style={{ display: 'flex', gap: 24, marginBottom: 32, flexWrap: 'wrap' }}>\r\n                <div style={{ flex: 1, minWidth: 220, background: '#e3f2fd', borderRadius: 12, padding: 24, textAlign: 'center', boxShadow: '0 2px 8px #0001' }}>\r\n                    <div style={{ fontSize: 32, fontWeight: 700 }}>{kpis.andamento}</div>\r\n                    <div style={{ color: '#1976d2', fontWeight: 600 }}>Ordens em andamento</div>\r\n                </div>\r\n                <div style={{ flex: 1, minWidth: 220, background: '#e8f5e9', borderRadius: 12, padding: 24, textAlign: 'center', boxShadow: '0 2px 8px #0001' }}>\r\n                    <div style={{ fontSize: 32, fontWeight: 700 }}>R$ {kpis.faturamento.toLocaleString('pt-BR', { minimumFractionDigits: 2 })}</div>\r\n                    <div style={{ color: '#388e3c', fontWeight: 600 }}>Faturamento do dia</div>\r\n                </div>\r\n                <div style={{ flex: 1, minWidth: 220, background: '#fff3e0', borderRadius: 12, padding: 24, textAlign: 'center', boxShadow: '0 2px 8px #0001' }}>\r\n                    <div style={{ fontSize: 32, fontWeight: 700 }}>{kpis.finalizadas}</div>\r\n                    <div style={{ color: '#f57c00', fontWeight: 600 }}>Finalizadas hoje</div>\r\n                </div>\r\n                <div style={{ flex: 1, minWidth: 220, background: '#fce4ec', borderRadius: 12, padding: 24, textAlign: 'center', boxShadow: '0 2px 8px #0001' }}>\r\n                    <div style={{ fontSize: 32, fontWeight: 700 }}>R$ {kpis.localiza.toLocaleString('pt-BR', { minimumFractionDigits: 2 })}</div>\r\n                    <div style={{ color: '#c2185b', fontWeight: 600 }}>Pagamentos Localiza</div>\r\n                </div>\r\n            </div>\r\n            {/* KanbanBoard abaixo dos KPIs */}\r\n            <KanbanBoard />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DashboardPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}